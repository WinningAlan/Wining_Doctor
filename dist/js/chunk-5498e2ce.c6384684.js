(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5498e2ce"],{"0605":function(t,e,a){},"2e7f":function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"e",function(){return r}),a.d(e,"q",function(){return l}),a.d(e,"d",function(){return s}),a.d(e,"v",function(){return c}),a.d(e,"g",function(){return u}),a.d(e,"o",function(){return d}),a.d(e,"n",function(){return m}),a.d(e,"f",function(){return p}),a.d(e,"m",function(){return v}),a.d(e,"p",function(){return f}),a.d(e,"l",function(){return h}),a.d(e,"i",function(){return b}),a.d(e,"t",function(){return x}),a.d(e,"r",function(){return g}),a.d(e,"w",function(){return y}),a.d(e,"j",function(){return I}),a.d(e,"k",function(){return T}),a.d(e,"h",function(){return D}),a.d(e,"s",function(){return w}),a.d(e,"u",function(){return S}),a.d(e,"c",function(){return _}),a.d(e,"a",function(){return O});var o=a("fccc"),i=a("46a9"),n=[{text:"过敏药物名称",value:"MedicineName"},{text:"皮试日期",value:"SkinTestTime",formatter:i["a"]},{text:"开始时间",value:"StartTime",formatter:i["a"]},{text:"结束时间",value:"EndTime",formatter:i["a"]},{text:"过敏类型",value:"AllergyTypeDesc"}],r=[{text:"过敏食物名称",value:"Name"},{text:"录入日期",value:"InputTime",formatter:i["a"]},{text:"开始日期",value:"StartTime",formatter:i["a"]},{text:"过敏类型",value:"AllergyTypeDesc"}],l=[{text:"过敏造影剂名称",value:"Name"},{text:"录入日期",value:"InputTime",formatter:i["a"]},{text:"开始日期",value:"StartTime",formatter:i["a"]},{text:"过敏类型",value:"AllergyTypeDesc"}],s=[{text:"其他过敏源名称",value:"Name"},{text:"录入日期",value:"InputTime",formatter:i["a"]},{text:"开始日期",value:"StartTime",formatter:i["a"]},{text:"过敏类型",value:"AllergyTypeDesc"}],c=[{text:"IDM",value:"IdmId"},{text:"药品名称",value:"MedicineName"},{text:"症状",value:"Symptom"},{text:"严重程度",value:"SeverityTypeDesc"},{text:"发生日期",value:"StartTime",formatter:i["a"]}],u=[{text:"过敏项目名称",value:"Name"},{text:"皮试日期",value:"SkinTestTime",formatter:i["a"]},{text:"开始日期",value:"StartTime",formatter:i["a"]},{text:"结束日期",value:"EndTime",formatter:i["a"]},{text:"过敏类别",value:"AllergyCategory"},{text:"过敏类型",value:"AllergyType"}],d=[{text:"时间",value:"time"},{text:"体温",value:"T"},{text:"哭声",value:"ku"},{text:"肤色",value:"fuse"},{text:"呼吸",value:"huxi"},{text:"反应",value:"fanyin"},{text:"呕吐",value:"ot"},{text:"脐带",value:"qd"},{text:"小便",value:"xb"},{text:"其他",value:"qt"},{text:"签名",value:"qm"}],m=[{text:"",value:"none"},{text:"Hoffmann",value:"Hoffmann"},{text:"Rossolimo",value:"Rossolimo"},{text:"Babinski",value:"Babinski"},{text:"Chaddock",value:"Chaddock"},{text:"髌阵挛",value:"b"},{text:"踝阵挛",value:"luo"}],p=[{text:"GCS评分",value:"grade"},{text:"睁眼反应",value:"eyes",width:"100px"},{width:"100px",text:"语言反应",value:"language"},{width:"100px",text:"运动反应",value:"sports"},{text:"总分",value:"allCount"}],v=[{width:"100px",text:"项目",value:"items"},{width:"150px",text:"参考值",value:"referenceValue"},{width:"150px",text:"测量值",value:"measuredValue"}],f=[{text:"体征记录",value:"Content",width:"450"},{text:"护士",value:"UpdateUserName"},{text:"记录时间",value:"UpdateTime",formatter:i["a"]}],h=[{text:"护理记录",value:"Content",width:"450"},{text:"护士",value:"护士签名"},{text:"记录时间",value:"Time"}],b=(i["a"],[{text:"报告号",value:"ReportNo"},{text:"检查项目",value:"ReportCategoryName"},{text:"检查结果",value:"Content",width:"250"},{text:"申请人",value:"ApplyName",maxWidth:"80px"},{text:"申请时间",value:"ApplyTime",width:"100",formatter:i["a"]}]),x=[{text:"报告号",value:"ReportNo"},{text:"检验项目",value:"ReportCategoryName"},{text:"标本",value:"Sample"},{text:"申请人",value:"ApplyName",width:"70"},{text:"申请时间",value:"ApplyTime",width:"100",formatter:i["a"]},{text:"危急值",value:"CrisisFlag",maxWidth:"70"}],g=[{text:"项目",value:"ItemName"},{text:"结果",value:"ItemValue"},{text:"提示",value:"Flag",formatter:function(t){return 1===t?"↓":2===t?"↑":""}},{text:"单位",value:"Unit"},{text:"参考范围",value:"Range",maxWidth:"100"},{text:"检测方法",value:"lookOver"},{text:"趋势图",value:"operation"}],y=[{text:"项目",value:"adviceName"},{text:"频次",value:"Frequency"}],I=[{text:"膳食项目",value:"adviceName"},{text:"频次",value:"Frequency"},{text:"剂量",value:"Unit"},{text:"单价",value:"Price",maxWidth:70,formatter:function(t){return(+t).toFixed(2)}}],T=[{text:"护理项目",value:"adviceName"},{text:"频次",value:"Frequency"},{text:"单价",value:"Price",maxWidth:70,formatter:function(t){return(+t).toFixed(2)}}],D=[{text:"检查项目",value:"adviceName"},{text:"是否是医保",value:"InsuranceUseFlag"},{text:"费用",value:"Price",formatter:function(t){return(+t).toFixed(2)}}],w=[{text:"检验项目",value:"adviceName"},{text:"标本",value:"SampleCode"},{text:"标本说明",value:"Attention",editType:"text"},{text:"是否是医保",value:"InsuranceUseFlag"},{text:"费用",value:"Price",maxWidth:70,formatter:function(t){return(+t).toFixed(2)}}],S=[{text:"治疗项目",value:"adviceName"},{text:"频次",value:"Frequency"},{text:"数量",value:"Unit"},{text:"单价",value:"Price",maxWidth:70,formatter:function(t){return(+t).toFixed(2)}}],_=[{text:"药品名称",value:"adviceName",width:180},{text:"剂量",value:"specimen",width:80},{text:"数量",value:"remarks",width:30},{text:"自备药",value:"IsSelfProvided",editType:"switch",width:30},{text:"皮试",value:"IsSkinTest",editType:"switch",width:30},{text:"审",value:"ReimbursementType",editType:"switch",width:30},{text:"单价",value:"Price",maxWidth:80,formatter:function(t){return(+t).toFixed(2)}},{text:"是否是医保",value:"InsuranceUseFlag",maxWidth:100},{text:"医保限制说明",value:"Memo",maxWidth:105}],O=[{text:"用血方式",value:"BloodWay",editType:"select",options:[{Text:"要求1",Value:1},{Text:"要求2",Value:2}]},{text:"用血要求",value:"Alias"},{text:"用量",value:"remarks"}];o["b"]},"38b2":function(t,e,a){},a7c6:function(t,e,a){"use strict";var o=a("38b2"),i=a.n(o);i.a},ac25:function(t,e,a){},c933:function(t,e,a){"use strict";var o=a("ac25"),i=a.n(o);i.a},c9eb:function(t,e,a){"use strict";var o=a("0605"),i=a.n(o);i.a},e35a:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"blood",staticClass:"blood"},[a("div",{staticClass:"tabs-temp"},[a("el-radio-group",{attrs:{fill:"#0071e7"},on:{change:t.tapsExamine},model:{value:t.nowTemp,callback:function(e){t.nowTemp=e},expression:"nowTemp"}},t._l(t.tabsTemp,function(e,o){return e.Show?a("el-radio-button",{key:o,attrs:{label:e.Value}},[t._v(t._s(e.Text))]):t._e()}),1)],1),a("div",{staticClass:"content"},["newBlood"==t.nowTemp?a("div",{staticClass:"newBlood"},[a("div",{staticClass:"newBloodContent"},[t.isShow?a("bloodDoctorAdvice",{attrs:{commonObj:t.commonObj,tableData:t.tableData},scopedSlots:t._u([{key:"search",fn:function(e){var o=e.departmentCode;return a("searchDoctorAdvice",{attrs:{callBack:t.addBloodDoctorAdvice,adviceName:4,departmentCode:o}})}},{key:"change",fn:function(e){var o=e.index,i=e.itemName,n=e.departmentCode;return a("searchDoctorAdvice",{attrs:{adviceName:4,callBack:t.addBloodDoctorAdvice,index:o,itemName:i,departmentCode:n}})}},{key:"default",fn:function(e){var o=e.submitForm;return a("div",{staticClass:"btnStyle"},[a("el-button",{on:{click:t.cancle}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.save(o)}}},[t._v("保存")])],1)}}])}):t._e()],1)]):a("div",[a("div",{staticClass:"bloodRecord"},[a("div",{staticClass:"left"},[a("historyList",{ref:"historyList",attrs:{historyListData:t.patBloodRecordList,callback:t.handleSelect}})],1),a("div",{staticClass:"right"},[a("bloodRecord",{ref:"bloodDetailTable",attrs:{handleRow:t.getDetail,bloodDetailData:t.bloodDetailData},scopedSlots:t._u([{key:"handle",fn:function(e){var o=e.scope;e.viewRecord;return a("div",{},[a("el-tooltip",{attrs:{effect:"dark",content:"引用",placement:"top-start"}},[8!=t.patientMsg.Status?a("svg-icon",{staticClass:"styleIcon",attrs:{iconClass:"quote"},on:{click:function(e){e.stopPropagation(),t.copyData(o.row)}}}):t._e()],1),1!==o.row.Status&&7!==o.row.Status?a("el-tooltip",{attrs:{effect:"dark",content:"打印",placement:"top-start"}},[a("svg-icon",{staticClass:"styleIcon",attrs:{iconClass:"printlist"},on:{click:function(e){e.stopPropagation(),t.print(o.row)}}})],1):t._e()],1)}}])},[a("div",{attrs:{slot:"expand"},slot:"expand"},[t._v("备注备注xxxxxx备注")])])],1)])])]),a("my-alter",{attrs:{title:"用血申请",visible:t.dialogVisible,isfooter:!1,width:t.dialogWidth,callback:t.closeDialog}},[a("viewBloodRecord",{attrs:{commonObj:t.commonObj,tableData:t.tableData}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.doctorOrder.Status&&8!=t.patientMsg.Status,expression:"doctorOrder.Status==1 && patientMsg.Status!=8"}],staticStyle:{"text-align":"right","margin-bottom":"10px"}},[a("el-button",{on:{click:t.modify}},[t._v("修改")]),a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("提交")])],1)],1)],1)},i=[],n=(a("7514"),a("96cf"),a("1da1")),r=a("be94"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bloodRe"},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:t.bloodDetailData},on:{"row-click":t.handleRow}},[a("el-table-column",{attrs:{type:"expand",width:"1"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("expand",[t._v("展开备注")],{scope:e})]}}])}),a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"Status",label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"bg",class:"bg"+e.row.Status},[t._v("\n            "+t._s(t._f("statusFilter")(e.row.Status,1,t.statusOptions))+"\n          ")])]}}])}),a("el-table-column",{attrs:{prop:"Target",label:"输血目的"}}),a("el-table-column",{attrs:{prop:"Price",label:"费用"}}),a("el-table-column",{attrs:{prop:"ApplyUser",label:"申请医师"}}),a("el-table-column",{attrs:{prop:"ApplyTime",label:"申请时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t._f("timeFilter")(e.row.ApplyTime))+"\n        ")]}}])}),a("el-table-column",{attrs:{prop:"",label:"操作",width:"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._t("handle",null,{scope:e,viewRecord:t.getDetail})]}}])})],1)],1)},s=[],c=a("d634"),u={data:function(){return{statusOptions:c["D"],isExpand:!1}},methods:{getDetail:function(t){var e=this;this.isExpand=!this.isExpand,this.$nextTick(function(){e.$refs.table.toggleRowExpansion(t,e.isExpand)})}},props:{handleRow:Function,bloodDetailData:Array}},d=u,m=(a("c9eb"),a("2877")),p=Object(m["a"])(d,l,s,!1,null,"bc488cd6",null),v=p.exports,f=a("333b"),h=a("9669"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"viewBloodRecord"},[a("div",{staticClass:"bloodItems"},[a("div",[t._v("血型："+t._s(t._f("bloodTypeFilter")(t.commonObj.BloodType,t.bloodTypeOptions)))]),a("div",[t._v("RH："+t._s(t.commonObj.RH))]),a("div",[t._v("不规则抗体筛查："+t._s(1==t.commonObj.IrregularAntibodyScreening?"是":"否"))]),a("div",[t._v("血源："+t._s(t._f("bloodSourceFilter")(t.commonObj.BloodSource,t.bloodsourceOptions)))]),a("div",[t._v("\n      其他：\n      "+t._s(1==t.commonObj.BloodTransfusion?"输血史":"")+"\n      "+t._s(1==t.commonObj.BloodDonationHistory?"献血史":"")+"\n      "+t._s(1==t.commonObj.Pregnancy?"孕":"")+"\n      "+t._s(1==t.commonObj.Fecunditv?"产":"")+"\n    ")]),t._l(t.bloodData,function(e,o){return a("div",{key:o},[t._v(t._s(e.text)+"："+t._s(t.commonObj[e.key]))])}),a("div",[t._v("用血时间："+t._s(t._f("timeFilter")(t.commonObj.UseTime)))]),a("div",[t._v("执行科室："+t._s(t._f("excuteDepFilter")(t.commonObj.ExcuteDepartment,t.allDep)))]),a("div",[t._v("申请时间："+t._s(t._f("timeFilter")(t.commonObj.ApplyTime)))])],2),a("div",{staticClass:"bloodRequest"},[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"50"}}),a("el-table-column",{attrs:{prop:"BloodWay",label:"用血方式"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("bloodWayFilter")(e.row.BloodWay,t.BloodWay)))]}}])}),a("el-table-column",{attrs:{prop:"ItemName",label:"用血要求"}}),a("el-table-column",{attrs:{prop:"Count",label:"用量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.Count)+t._s(isNaN(parseInt(e.row.Unit))?"":"*")+t._s(e.row.Unit))]}}])})],1)],1)])},x=[],g=a("2f62"),y={props:{commonObj:{type:Object,required:!0},tableData:{type:Array}},data:function(){return{bloodData:c["c"]}},computed:Object(r["a"])({},Object(g["b"])({bloodTypeOptions:"public/GET_BLOODTYPES",dict:"public/GET_DICTIONARIES",allDep:"public/GET_ALLDEPARTMENTS"}),{bloodsourceOptions:function(t){return this.dict.BloodSource},BloodWay:function(t){return this.dict.BloodWay}}),filters:{bloodTypeFilter:function(t,e){var a=e.find(function(e){if(e.Code==t)return e});if(a)return a.Name||""},bloodSourceFilter:function(t,e){var a=e.find(function(e){if(e.Value==t)return e});if(a)return a.Text||""},excuteDepFilter:function(t,e){var a=e.find(function(e){if(e.Code==t)return e});if(a)return a.Name||""},bloodWayFilter:function(t,e){var a=e.find(function(e){if(e.Value==t)return e});if(a)return a.Text}}},I=y,T=(a("a7c6"),Object(m["a"])(I,b,x,!1,null,"566dfd32",null)),D=T.exports,w=a("98ad"),S=a("6e86"),_=a("c9b7"),O=a("3943"),B={components:{bloodDoctorAdvice:f["a"],searchDoctorAdvice:h["a"],bloodRecord:v,myAlter:w["a"],viewBloodRecord:D,historyList:S["a"]},data:function(){return{nowTemp:"newBlood",tabsTemp:[{Text:"新建用血",Value:"newBlood",Show:!0},{Text:"用血记录",Value:"bloodRecord",Show:!0}],commonObj:{},tableData:[],dialogVisible:!1,dialogWidth:"800px",isChange:!0,patBloodRecordList:[],doctorOrder:{},bloodDetailData:[],timer:null,caSignOperation:{},currentObjData:"",isShow:!0}},created:function(){this.getBloodInfoByPat(),this.isSignName&&(this.caSignOperation=new O["a"](this,this.signName))},watch:{"patientMsg.Status":{handler:function(t){8===t?(this.tabsTemp[0].Show=!1,this.nowTemp="bloodRecord",this.getPatBloodRecordList()):(this.tabsTemp[0].Show=!0,this.nowTemp="newBlood")},deep:!0,immediate:!0},isGetCA:function(t){t&&this.currentObjData.Data&&"用血申请"==this.currentObjData.Data[0].Name&&this.caSignOperation.checkData(this.user.UserInfo,this.currentObjData)}},computed:Object(r["a"])({},Object(g["b"])({patientMsg:"public/GET_PATIENTMSG",selectArea:"home/GET_SELECTAREA",isRegister:"configuration/GET_ISREGISTER",signName:"public/GET_SIGNNAME",isSignName:"public/GET_ISSIGNNAME",isGetCA:"public/GET_ISGETCA",user:"public/GET_USER",caImgData:"public/GET_CAIMGDATA"})),methods:{print:function(t){clearTimeout(this.timer);var e=(new Date).getTime(),a=window.location.protocol+"\\"+window.location.host,o="".concat(URLCONFIG.Emr,"/Nursing/EditPage.aspx?patientId=").concat(this.patientMsg.PatientId,"&inHouseId=").concat(this.patientMsg.InHouseId,"&areaType=").concat(this.patientMsg.AreaType,"&createUser=940c7df7-a718-e911-80cd-0050568e1b08&originUrl=").concat(a,"&objectType=").concat(c["x"].blood.objectType,"&logUserEditTrack=true&documentId=f2f201db-3ca2-47b0-ba81-ab6b0096abd6&mark=true&templateId=").concat(c["x"].blood.templateId,"&bloodid=").concat(t.BloodFormId,"&areaId=").concat(this.patientMsg.AreaId,"&t=").concat(e);console.log(o),this.$store.commit("public/SET_PRINTIFRAMEURL",o)},copyData:function(t){var e=this;this.nowTemp="newBlood";var a={BloodFormId:t.BloodFormId};this.$Api.getDoctorBloodOrderInfo(a).then(function(t){if(t.Status){var a=t.Data.DoctorBloodFormEntity;a.Id="00000000-0000-0000-0000-000000000000",a.ApplyTime=Object(_["a"])(),a.UseTime=Object(_["a"])(),e.commonObj=a,e.tableData=t.Data.DoctorBloodFormDetailsList}})},closeDialog:function(t){this.dialogVisible=!1},submit:function(){if(this.patientMsg.RegistId)if(this.isSignName){var t={Type:"0",Data:[{Name:"用血申请"}],No:this.user.UserInfo.No,UserName:this.user.UserInfo.Name};this.currentObjData=t,this.caSignOperation.KeyVerify()}else this.handleOperation();else if(this.$msg.info("该患者无有效挂号，请先挂号！"),"1"===this.isRegister){var e={title:"患者挂号",width:"800px",component:"registrationAlter",isShowFooter:!0,btn:["挂号","取消"],visible:!0};this.$store.commit("public/SET_DIALOGDATA",e)}},handleOperation:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e,a,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$IMIS.submmitOrderIMIS([{OrderType:this.doctorOrder.OrderType,OrderId:this.doctorOrder.Id}],this.patientMsg);case 3:if(e=t.sent,e){t.next=6;break}return t.abrupt("return");case 6:t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](0);case 10:a={InHouseId:this.patientMsg.InHouseId,OrderList:[this.doctorOrder.Id],HisRegisterId:this.patientMsg.RegistId,CASignImg:this.caImgData},this.$Api.submitAdvice(a).then(function(t){o.$msg[t.Status?"success":"warning"](t.Message),t.Status?(console.log(o.tableData),o.print(o.tableData[0]),o.nowTemp="bloodRecord",o.getPatBloodRecordList(),o.dialogVisible=!1):o.refreshOrderStatus()}).catch(function(t){o.refreshOrderStatus()});case 12:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}(),modify:function(){this.dialogVisible=!1,this.nowTemp="newBlood"},getDetail:function(t){var e=this,a={BloodFormId:t.BloodFormId};this.$Api.getDoctorBloodOrderInfo(a).then(function(t){t.Status&&(e.commonObj=t.Data.DoctorBloodFormEntity,e.tableData=t.Data.DoctorBloodFormDetailsList,e.doctorOrder=t.Data.DoctorOrderEntity,e.dialogVisible=!0)})},save:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var a,o,i,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:if(a=t.sent,a){t.next=6;break}return this.$msg.warning("请把信息填写完全"),t.abrupt("return");case 6:if(console.log(a),o={},!a.BloodForm.Id||"00000000-0000-0000-0000-000000000000"==a.BloodForm.Id){t.next=15;break}return t.next=11,this.$Api.updateBloodInfo(a);case 11:o=t.sent,o.Status&&(this.$msg.success("操作成功"),i={BloodFormId:a.BloodForm.Id},this.getDetail(i)),t.next=19;break;case 15:return t.next=17,this.$Api.saveBloodInfo(a);case 17:o=t.sent,o.Status&&(this.$msg.success("操作成功"),n={BloodFormId:o.Data},this.getDetail(n));case 19:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),cancle:function(){var t=this;this.isShow=!1,this.commonObj={},setTimeout(function(){t.isShow=!0},0),this.getBloodInfoByPat(),this.tableData=[]},addBloodDoctorAdvice:function(t,e){this.commonObj={ExcuteDepartment:t.Department};var a=this.tableData.find(function(e){if(e.ItemCode==t.HisMedId)return e});if(a)this.$msg.warning("改输血医嘱已存在");else if(e<0){var o={Id:"00000000-0000-0000-0000-000000000000",BloodFormId:"00000000-0000-0000-0000-000000000000",ItemName:t.ItemName,ItemCode:t.HisMedId,ItemType:t.OrderItemType,Count:1,Price:parseFloat(t.Price),Unit:t.DrugStoreUnit,_edit:!1,BloodWay:""};this.tableData.push(o)}else{var i=this.tableData[e];i["ItemName"]=t.ItemName,i["ItemCode"]=t.HisMedId,i["ItemType"]=t.OrderItemType,i["Count"]=1,i["Price"]=parseFloat(t.Price),i["Unit"]=t.DrugStoreUnit,i["_edit"]=!1,i["BloodWay"]="",this.tableData[e]=i}},tapsExamine:function(t){console.log(t),"bloodRecord"==t&&this.getPatBloodRecordList()},getBloodInfoByPat:function(){var t=this,e={hisPatientId:this.patientMsg.HISPatientId,RecordNumber:this.patientMsg.RecordNumber};this.$Api.getBloodInfo(e).then(function(e){e.Status&&(t.commonObj=e.Data)})},getPatBloodRecordList:function(){var t=this;console.log(this.patientMsg);var e={PatientId:this.patientMsg.PatientId};this.$Api.getBloodMasterList(e).then(function(e){t.patBloodRecordList=e.Data,0!=t.patBloodRecordList.length&&(t.$refs.historyList.selectId=t.patBloodRecordList[0].InHospitalId,t.handleSelect(t.patBloodRecordList[0].InHospitalId))})},handleSelect:function(t){var e={InHospitalId:t};this.getBloodDetail(e)},getBloodDetail:function(t){var e=this,a={inHouseId:t.InHospitalId};this.$Api.getBloodDetailList(a).then(function(t){t.Status&&(e.bloodDetailData=t.Data)})},refreshOrderStatus:function(){this.$Api.refreshOrderStatus({inHospitalId:this.$route.query.id}).then(function(t){})}}},A=B,R=(a("c933"),Object(m["a"])(A,o,i,!1,null,"23480b35",null));e["default"]=R.exports}}]);